{"version":3,"sources":["webpack:///./node_modules/stream-browserify/index.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/readable-browser.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js","webpack:///./node_modules/dompurify/dist/purify.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js","webpack:///./node_modules/stream-browserify/node_modules/isarray/index.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/BufferList.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/writable-browser.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/duplex-browser.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/transform.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/passthrough.js","webpack:///./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"],"names":["module","exports","Stream","EE","EventEmitter","call","this","inherits","Readable","Writable","Duplex","Transform","PassThrough","prototype","pipe","dest","options","source","ondata","chunk","writable","write","pause","ondrain","readable","resume","on","_isStdio","end","onend","onclose","didOnEnd","destroy","onerror","er","cleanup","listenerCount","removeListener","emit","pna","CorkedRequest","state","_this","next","entry","finish","corkReq","err","cb","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","process","browser","indexOf","version","slice","setImmediate","nextTick","WritableState","util","Object","create","internalUtil","deprecate","Buffer","OurUint8Array","global","Uint8Array","realHasInstance","destroyImpl","nop","stream","isDuplex","objectMode","writableObjectMode","hwm","highWaterMark","writableHwm","writableHighWaterMark","defaultHwm","Math","floor","finalCalled","needDrain","ending","ended","finished","destroyed","noDecode","decodeStrings","defaultEncoding","length","writing","corked","sync","bufferProcessing","onwrite","_writableState","writecb","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","_write","writev","_writev","_destroy","final","_final","doWrite","len","encoding","onwriteDrain","l","buffer","Array","holder","count","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","out","push","defineProperty","get","_","Symbol","hasInstance","Function","value","object","Error","obj","ret","isBuffer","from","_uint8ArrayToBuffer","writeAfterEnd","valid","TypeError","undefined","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","toLowerCase","enumerable","once","endWritable","set","_undestroy","undestroy","hasOwnProperty","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","_ref","Reflect","apply","construct","fun","thisValue","args","x","Func","bind","concat","arr","isArray","i","arr2","_toConsumableArray","func","arrayForEach","unapply","forEach","arrayPop","pop","arrayPush","stringToLowerCase","String","stringMatch","match","stringReplace","replace","stringIndexOf","stringTrim","trim","regExpTest","RegExp","test","typeErrorCreate","_len2","arguments","_key2","thisArg","_len","_key","addToSet","array","element","lcElement","clone","newObject","property","lookupGetter","prop","desc","console","warn","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","html$1","svg$1","mathMl$1","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","_typeof","iterator","constructor","_toConsumableArray$1","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","document","createPolicy","suffix","currentScript","hasAttribute","getAttribute","policyName","createHTML","html$$1","createDOMPurify","DOMPurify","root","removed","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","MUSTACHE_EXPR$$1","ERB_EXPR$$1","DATA_ATTR$$1","ARIA_ATTR$$1","IS_SCRIPT_OR_DATA$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","transformCaseFunc","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","Boolean","commonSvgAndHTMLElements","_forceRemove","node","parentNode","removeChild","outerHTML","remove","_removeAttribute","name","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","attributes","_isNode","_executeHook","entryPoint","currentNode","data","hook","_sanitizeElements","allowedTags","firstElementChild","_basicCustomElementTest","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toString","toStaticHTML","appendChild","firstChild","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","ReadableState","EElistenerCount","emitter","type","listeners","debugUtil","debug","debuglog","StringDecoder","BufferList","kProxyEvents","readableObjectMode","readableHwm","readableHighWaterMark","pipes","pipesCount","flowing","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","awaitDrain","readingMore","decoder","_readableState","read","_read","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","addChunk","maybeReadMore","needMoreData","unshift","isPaused","setEncoding","enc","howMuchToRead","n","head","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","self","resume_","fromList","shift","join","clear","list","hasStrings","p","c","str","nb","tail","copyFromBufferString","allocUnsafe","copy","buf","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","parseInt","nOrig","doRead","pipeOpts","src","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onfinish","cleanedUp","pipeOnDrain","increasedAwaitDrain","event","fn","prependListener","_events","dests","index","splice","ev","res","addListener","wrap","paused","method","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","done","_this2","err2","instance","Constructor","_classCallCheck","v","s","alloc","target","offset","inspect","custom","objectKeys","keys","key","allowHalfOpen","onEndNT"],"mappings":"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","file":"1.d49920c1adbe8fa5ff7c.bundle.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","/*! @license DOMPurify 2.3.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.6/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.DOMPurify = factory());\n}(this, function () { 'use strict';\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n\n  var regExpTest = unapply(RegExp.prototype.test);\n\n  var typeErrorCreate = unconstruct(TypeError);\n\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n\n  /* Add properties to a lookup table */\n  function addToSet(set, array) {\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = stringToLowerCase(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n\n  /* Shallow clone an object */\n  function clone(object) {\n    var newObject = create(null);\n\n    var property = void 0;\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  var svg = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n\n  var mathMl = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n\n  var text = freeze(['#text']);\n\n  var html$1 = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n\n  var svg$1 = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\n  var mathMl$1 = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  var ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray$1(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html$$1) {\n          return html$$1;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '2.3.6';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n\n\n    var ElementPrototype = Element.prototype;\n\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n\n\n    var documentMode = {};\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n\n    var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n        ERB_EXPR$$1 = ERB_EXPR,\n        DATA_ATTR$$1 = DATA_ATTR,\n        ARIA_ATTR$$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(html), _toConsumableArray$1(svg), _toConsumableArray$1(svgFilters), _toConsumableArray$1(mathMl), _toConsumableArray$1(text)));\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray$1(html$1), _toConsumableArray$1(svg$1), _toConsumableArray$1(mathMl$1), _toConsumableArray$1(xml)));\n\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    var SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    var RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    var IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    var USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n\n    /* Parsing of strict XHTML documents */\n    var PARSER_MEDIA_TYPE = void 0;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc = void 0;\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n\n      // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n        return x;\n      } : stringToLowerCase;\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray$1(text)));\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html);\n          addToSet(ALLOWED_ATTR, html$1);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl);\n          addToSet(ALLOWED_ATTR, mathMl$1);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    var ALL_SVG_TAGS = addToSet({}, svg);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n\n    var ALL_MATHML_TAGS = addToSet({}, mathMl);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // Certain elements are allowed in both SVG and HTML\n        // namespace. We need to specify them explicitly\n        // so that they don't get erronously deleted from\n        // HTML namespace.\n        var commonSvgAndHTMLElements = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (commonSvgAndHTMLElements[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, { element: node });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc = void 0;\n      var leadingWhitespace = void 0;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n    };\n\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    var _isNode = function _isNode(object) {\n      return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content = void 0;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check if tagname contains Unicode */\n      if (stringMatch(currentNode.nodeName, /[\\u0080-\\uFFFF]/)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      var tagName = transformCaseFunc(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (!_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Mitigate a problem with templates inside select */\n      if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$$1, ' ');\n        content = stringReplace(content, ERB_EXPR$$1, ' ');\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$$1, stringReplace(value, ATTR_WHITESPACE$$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr = void 0;\n      var value = void 0;\n      var lcName = void 0;\n      var l = void 0;\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n\n        value = stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$$1, ' ');\n          value = stringReplace(value, ERB_EXPR$$1, ' ');\n        }\n\n        /* Is `value` valid for this attribute? */\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode = void 0;\n      var shadowIterator = _createIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty, cfg) {\n      var body = void 0;\n      var importedNode = void 0;\n      var currentNode = void 0;\n      var oldNode = void 0;\n      var returnNode = void 0;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n\n      /* Check we can run. Otherwise fall back or ignore */\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Serialize doctype if allowed */\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","module.exports = require('./lib/_stream_writable.js');\n","module.exports = require('./lib/_stream_duplex.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./readable').PassThrough\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};"],"sourceRoot":""}