(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{1835:function(e,t,a){"use strict";(function(e){var n,r=a(0),i=a.n(r),o=a(24),l=a.n(o),s=a(86),c=a(1329),u=a(207),p=a(31),d=a(134),m=a(1330),f=a(166),y=a(20),b=a(665),g=a(3943),v=a(658),h=a(739),A=a(778),E=a(3989),P=a(975),C=a(924),S=a(734),I=a(94);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function k(e,t,a,n,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,r)}function D(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){k(i,n,r,o,l,"next",e)}function l(e){k(i,n,r,o,l,"throw",e)}o(void 0)}))}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=function(){var e=D(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.a.policies("subscription"),e.next=3,t;case 3:return a=e.sent,e.abrupt("return",a.body.list);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(e){var t=e.isWebSocket,a=e.isAPIProduct,n=e.history,o=e.intl,l=Object(h.d)(),d=l.data,y=l.isLoading,O=l.error,L=x(Object(r.useState)(null),2),k=L[0],M=L[1];Object(r.useEffect)((function(){O&&M(O.message)}),[O]);var H=x(Object(r.useState)(),2),V=H[0],R=H[1],T=x(Object(r.useState)(!1),2),F=T[0],B=T[1],N=x(Object(r.useState)(!1),2),U=N[0],Q=N[1],z=x(Object(r.useState)(!1),2),_=z[0],q=z[1],$=x(Object(r.useState)(!1),2),K=$[0],J=$[1];var Y=x(Object(r.useReducer)((function(e,t){var a=t.action,n=t.value;switch(a){case"name":case"version":case"endpoint":case"context":case"isFormValid":return w(w({},e),{},j({},a,n));default:return e}}),{formValidity:!1}),2),X=Y[0],Z=Y[1],ee=X.endpoint,te=!(X.name&&X.version&&X.context)||V||F;function ae(){return ne.apply(this,arguments)}function ne(){return(ne=D(regeneratorRuntime.mark((function e(){var r,i,l,s,c,u,p,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),r=X.name,i=X.version,l=X.context,s=X.endpoint,e.next=4,G();case 4:return 0===(p=e.sent).length?b.a.info(o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):u=p.filter((function(e){return"Unlimited"===e.name})).length>0?["Unlimited"]:[p[0].name],d={name:r,version:i,context:l,policies:u},s&&(d.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:s},production_endpoints:{url:s}}),t&&(d.type="WS"),a?(m=new S.a(d),c=m.saveProduct(d).then((function(e){return b.a.info("API Product created successfully"),n.push("/api-products/".concat(e.id,"/overview")),e})).catch((function(e){if(console.error(e),e.response)return M(e.response.body),e.response.body.description;var t="Something went wrong while adding the API Product";return M(t),t}))):(f=new v.a(d),c=f.save(),b.a.loading(c,{loading:"Creating API...",success:"API created successfully",error:function(e){if(console.error(e),B(!1),e.response)return M(e.response.body),e.response.body.description;var t="Something went wrong while adding the API";return M(t),t}})),e.abrupt("return",c.finally((function(){return R(!1)})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"h5",component:"h1"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.api.heading",defaultMessage:[{type:0,value:"Create an API"}]})),i.a.createElement(s.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.api.sub.heading",defaultMessage:[{type:0,value:"Create an API by providing a Name, a Version, a Context and Backend Endpoint (optional)"}]})));return a?re=i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"h5",component:"h1"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.heading",defaultMessage:[{type:0,value:"Create an API Product"}]})),i.a.createElement(s.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.sub.heading",defaultMessage:[{type:0,value:"Create an API Product by providing a Name, a Context, and Business Plans (optional)."}]}))):t&&(re=i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"h5",component:"h1"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.webSocket.heading",defaultMessage:[{type:0,value:"Create a WebSocket API"}]})),i.a.createElement(s.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.webSocket.sub.heading",defaultMessage:[{type:0,value:"Create a WebSocket API by providing a Name, and a Context."}]})))),i.a.createElement(P.a,{title:re},i.a.createElement(c.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},k&&i.a.createElement(c.a,{item:!0,xs:11},i.a.createElement(A.a,{onClose:function(){return M(null)},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:k})),i.a.createElement(c.a,{item:!0,xs:12},y&&i.a.createElement(u.a,{mt:-2},i.a.createElement(E.a,{"data-testid":"loading-publisher-settings"}))),i.a.createElement(c.a,{item:!0,md:1,xs:0}),i.a.createElement(c.a,{item:!0,md:11,xs:12},i.a.createElement(C.a,{onValidate:function(e){Z({action:"isFormValid",value:e})},onChange:function(e){var t=e.target,a=t.name,n=t.value;Z({action:a,value:n})},api:X,isAPIProduct:a,isWebSocket:t})),i.a.createElement(c.a,{item:!0,md:1,xs:0}),i.a.createElement(c.a,{item:!0,md:11,xs:12},i.a.createElement(c.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(c.a,{item:!0},i.a.createElement(m.a,{id:"itest-create-default-api-button",variant:"contained",color:"primary",disabled:te||!X.isFormValid,onClick:function(){ae().then((function(e){n.push("/apis/".concat(e.id,"/overview"))}))}},"Create"," ",V&&!K&&i.a.createElement(g.a,{size:24}))),!I.a.isNotPublisher()&&i.a.createElement(c.a,{item:!0},i.a.createElement(m.a,{id:"itest-id-apicreatedefault-createnpublish",variant:"contained",color:"primary",disabled:_||U||!ee||te||!X.isFormValid,onClick:function(){var e=new v.a;J(!0),ae().then((function(t){Q(!0);var a=e.createRevision(t.id,{description:"Initial Revision"});b.a.loading(a,{success:"API revision created successfully",error:function(e){return console.error(e),e.response?(M(e.response.body),e.response.body.description):(M("Something went wrong while creating the API Revision"),o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.create.revision",defaultMessage:[{type:0,value:"Something went wrong while creating the API Revision"}]}))},loading:"Creating API revision..."}),a.then((function(a){var r=a.body.id;Q(!1);var i=d.environment.map((function(e){return e.name})),l=[],s=d.environment.filter((function(e){return e.provider&&e.provider.toLowerCase().includes("wso2")})),c=function(e){var t=s.find((function(t){return t.name===e&&t.vhosts.length>0}));return t&&t.vhosts[0].host};i&&i.length>0&&(i.includes("Default")&&c("Default")?l.push({name:"Default",displayOnDevportal:!0,vhost:c("Default")}):c(i[0])&&l.push({name:i[0],displayOnDevportal:!0,vhost:c(i[0])})),q(!0);var u=e.deployRevision(t.id,r,l);b.a.loading(u,{loading:"Deploying API...",success:"API deployed successfully",error:function(e){return console.error(e),e.response?(M(e.response.body),e.response.body.description):(M("Something went wrong while publishing the API"),o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.publish",defaultMessage:[{type:0,value:"Something went wrong while publishing the API"}]}))}}),u.then((function(){q(!1),B(!0);var e=t.publish();b.a.loading(e,{loading:"Publishing API...",success:function(e){return e.body.workflowStatus===W.WORKFLOW_STATUS.CREATED?o.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.publishStatus",defaultMessage:[{type:0,value:"Lifecycle state change request has been sent"}]}):o.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.otherStatus",defaultMessage:[{type:0,value:"API updated successfully"}]})},error:function(){return o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.otherStatus",defaultMessage:[{type:0,value:"Error while publishing the API"}]})}}),e.then((function(){return n.push("/apis/".concat(t.id,"/overview"))})).finally((function(){B(!1),J(!1)}))})).finally((function(){q(!1)}))})).finally((function(){Q(!1)}))}))}},!F&&!U&&!_&&"Create & Publish",(F||U||_)&&i.a.createElement(g.a,{size:24}),V&&F&&"Creating API . . .",!V&&U&&!_&&"Creating Revision . . .",!V&&F&&!U&&!_&&"Publishing API . . .",!V&&F&&!U&&_&&"Deploying Revision . . .")),i.a.createElement(c.a,{item:!0},i.a.createElement(f.b,{to:"/apis/"},i.a.createElement(m.a,{variant:"text"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))))))))}M(W,"usePublisherSettings{{ data: settings, isLoading, error: settingsError }}\nuseState{[pageError, setPageError](null)}\nuseEffect{}\nuseState{[isCreating, setIsCreating]}\nuseState{[isPublishing, setIsPublishing](false)}\nuseState{[isRevisioning, setIsRevisioning](false)}\nuseState{[isDeploying, setIsDeploying](false)}\nuseState{[isPublishButtonClicked, setIsPublishButtonClicked](false)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        formValidity: false,\n    })}",(function(){return[h.d]})),W.defaultProps={isWebSocket:!1,isAPIProduct:!1},W.WORKFLOW_STATUS={CREATED:"CREATED"},W.propTypes={history:l.a.shape({push:l.a.func}).isRequired,isAPIProduct:l.a.shape({}),isWebSocket:l.a.shape({}),intl:l.a.shape({formatMessage:l.a.func}).isRequired};var H,V,R=Object(y.j)(Object(d.c)(W));t.a=R,(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(G,"getPolicies","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Default/APICreateDefault.jsx"),H.register(W,"APICreateDefault","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Default/APICreateDefault.jsx"),H.register(R,"default","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Default/APICreateDefault.jsx")),(V="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&V(e)}).call(this,a(44)(e))},3642:function(e,t,a){"use strict";a.r(t),function(e){var n,r=a(0),i=a.n(r),o=a(20),l=a(80),s=a(24),c=a.n(s),u=a(765),p=a(1835),d=a(3643),m=a(3645),f=a(3646),y=a(3647),b=a(3648),g=a(3649),v=a(3650);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var h={content:{flexGrow:1}};function A(e){var t=e.classes;return i.a.createElement("div",{className:t.content},i.a.createElement(o.d,null,i.a.createElement(o.b,{path:"/apis/create/rest",component:p.a}),i.a.createElement(o.b,{path:"/api-products/create",component:d.a}),i.a.createElement(o.b,{path:"/apis/create/graphQL",component:y.a}),i.a.createElement(o.b,{path:"/apis/create/openapi",component:m.a}),i.a.createElement(o.b,{path:"/apis/create/wsdl",component:f.a}),i.a.createElement(o.b,{path:"/apis/create/ws",component:b.a}),i.a.createElement(o.b,{path:"/apis/create/streamingapi/:apiType",component:g.a}),i.a.createElement(o.b,{path:"/apis/create/asyncapi",component:v.a}),i.a.createElement(o.b,{component:u.a})))}A.propTypes={classes:c.a.shape({content:c.a.string}).isRequired};var E,P,C=Object(l.a)(h)(A);t.default=C,(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(h,"styles","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/APICreateRoutes.jsx"),E.register(A,"APICreateRoutes","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/APICreateRoutes.jsx"),E.register(C,"default","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/APICreateRoutes.jsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)}.call(this,a(44)(e))},3643:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return V}));var n,r=a(0),i=a.n(r),o=a(24),l=a.n(o),s=a(207),c=a(1329),u=a(224),p=a(31),d=a(3206),m=a(3207),f=a(3880),y=a(302),b=a(1330),g=a(86),v=a(166),h=a(734),A=a(665),E=a(3943),P=a(3644),C=a(924),S=a(1796),I=a(658),O=a(94),w=a(739);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var M,G,W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=Object(y.a)((function(e){return{Paper:{height:"40px"},saveButton:{padding:"0px 0px 0px 10px"},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:e.spacing(2)},buttonWrapper:{marginTop:e.spacing(4)},alternativeLabel:{marginTop:e.spacing(1)}}}));function V(e){var t=e.history,a=Object(u.a)(),n=k(Object(r.useState)(0),2),o=n[0],l=n[1],y=k(Object(r.useState)([]),2),j=y[0],D=y[1],M=Object(w.c)().settings,G=k(Object(r.useState)(!1),2),W=G[0],V=G[1],R=k(Object(r.useState)(!1),2),T=R[0],F=R[1],B=k(Object(r.useState)(!1),2),N=B[0],U=B[1],Q=k(Object(r.useState)(!1),2),z=Q[0],_=Q[1],q=k(Object(r.useState)([]),2),$=q[0],K=q[1];Object(r.useEffect)((function(){I.a.policies("subscription").then((function(e){var t=e.body.list;0===t.length?A.a.info(a.formatMessage({id:"Apis.Create.APIProduct.APIProductCreateWrapper.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):t.filter((function(e){return"Unlimited"===e.name})).length>0?K(["Unlimited"]):K([t[0].name])}))}),[]);var J=i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{variant:"h5"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.heading",defaultMessage:[{type:0,value:"Create an API Product"}]})),i.a.createElement(g.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.sub.heading",defaultMessage:[{type:0,value:"Create an API Product by providing a Name, a Context, Resources, and Business Plans (optional)."}]})));var Y=k(Object(r.useReducer)((function(e,t){var a=t.action,n=t.value;switch(a){case"type":case"name":case"context":case"version":case"isFormValid":case"apiResources":return x(x({},e),{},L({},a,n));case"preSetAPI":return x(x({},e),{},{name:n.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),context:n.context});default:return e}}),{type:"ApiProductCreateWrapper",inputValue:"",formValidity:!1}),2),X=Y[0],Z=Y[1];var ee,te=k(Object(r.useState)(),2),ae=te[0],ne=te[1],re=H(),ie=[i.a.createElement(p.a,{variant:"caption",id:"Apis.Create.APIProduct.APIProductCreateWrapper.defineProvide",defaultMessage:[{type:0,value:"Define API Product"}]}),i.a.createElement(p.a,{variant:"caption",id:"Apis.Create.APIProduct.APIProductCreateWrapper.resources",defaultMessage:[{type:0,value:"Add Resources"}]})],oe=function(){ne(!0);var e={name:X.name,context:X.context,policies:$,apis:j,transport:["http","https"]};return(ee=new h.a(e)).saveProduct(e).then((function(e){return A.a.info("API Product created successfully"),e})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error("Something went wrong while adding the API Product")})).finally((function(){return ne(!1)})).finally((function(){return ne(!1)}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(P.a,{title:J},i.a.createElement(s.a,null,0===o&&i.a.createElement(d.a,{alternativeLabel:!0,activeStep:0},ie.map((function(e){return i.a.createElement(m.a,{key:e},i.a.createElement(f.a,{className:re.alternativeLabel},e))}))),1===o&&i.a.createElement(d.a,{alternativeLabel:!0,activeStep:1},ie.map((function(e){return i.a.createElement(m.a,{key:e},i.a.createElement(f.a,null,e))})))),i.a.createElement(c.a,{container:!0,spacing:2},0===o&&i.a.createElement(c.a,{item:!0,md:12}),0===o&&i.a.createElement(c.a,{item:!0,md:1}),i.a.createElement(c.a,{item:!0,md:0===o?11:12},0===o&&i.a.createElement(C.a,{onValidate:function(e){Z({action:"isFormValid",value:e})},onChange:function(e){var t=e.target,a=t.name,n=t.value;Z({action:a,value:n})},api:X,isAPIProduct:!0}),1===o&&i.a.createElement(S.a,{apiResources:j,setApiResources:D,isStateCreate:!0,api:X})),0===o&&i.a.createElement(c.a,{item:!0,md:1}),i.a.createElement(c.a,{item:!0,md:9},i.a.createElement(c.a,{className:1===o&&re.saveButton,container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(c.a,{item:!0},1===o&&i.a.createElement(b.a,{onClick:function(){return l((function(e){return e-1}))}},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.back",defaultMessage:[{type:0,value:"Back"}]})),0===o&&i.a.createElement(v.b,{to:"/api-products/"},i.a.createElement(b.a,null,i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.cancel",defaultMessage:[{type:0,value:"Cancel"}]})))),i.a.createElement(c.a,{item:!0},1===o&&i.a.createElement(b.a,{variant:"contained",color:"primary",disabled:!X.isFormValid||ae||0===j.length||W,onClick:function(){oe().then((function(e){t.push("/api-products/".concat(e.id,"/overview"))}))},id:"create-api-product-btn"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.create",defaultMessage:[{type:0,value:"Create"}]}),ae&&!W&&i.a.createElement(E.a,{size:24})),0===o&&i.a.createElement(b.a,{onClick:function(){return l((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!X.isFormValid,id:"api-product-next-btn"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.next",defaultMessage:[{type:0,value:"Next"}]}))),i.a.createElement(c.a,{item:!0},1===o&&!O.a.isNotPublisher()&&i.a.createElement(b.a,{variant:"contained",color:"primary",disabled:!X.isFormValid||ae||0===j.length||N||T||!X.isFormValid,onClick:function(){V(!0),oe().then((function(e){F(!0),A.a.info("API Product created successfully");ee.createProductRevision(e.id,{description:"Initial Revision"}).then((function(n){F(!1);var r=n.body.id;A.a.info("API Revision created successfully");var i=M.environment.map((function(e){return e.name})),o=[],l=function(e){var t=M.environment.find((function(t){return t.name===e&&t.vhosts.length>0}));return t&&t.vhosts[0].host};i&&i.length>0&&(i.includes("Default")&&l("Default")?o.push({name:"Default",displayOnDevportal:!0,vhost:l("Default")}):l(i[0])&&o.push({name:i[0],displayOnDevportal:!0,vhost:l(i[0])})),U(!0),ee.deployProductRevision(e.id,r,o).then((function(){A.a.info("API Product Revision Deployed Successfully"),U(!1),_(!0),ee.updateLcState(e.id,"Publish").then((function(n){"CREATED"===n.body.workflowStatus?A.a.info(a.formatMessage({id:"Apis.Create.APIProduct.APIProductCreateWrapper.publishStatus",defaultMessage:[{type:0,value:"Lifecycle state change request has been sent"}]})):A.a.info(a.formatMessage({id:"Apis.Create.APIProduct.APIProductCreateWrapper.otherStatus",defaultMessage:[{type:0,value:"API Product status updated successfully"}]})),t.push("/api-products/".concat(e.id,"/overview"))}))})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error(a.formatMessage({id:"Apis.APIProductCreateWrapper.error.errorMessage.deploy.revision",defaultMessage:[{type:0,value:"Something went wrong while deploying the API Product Revision"}]})),console.error(e)})).finally((function(){_(!1),V(!1)}))})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error(a.formatMessage({id:"Apis.APIProductCreateWrapper.error.errorMessage.create.revision",defaultMessage:[{type:0,value:"Something went wrong while creating the API Product Revision"}]})),console.error(e)}))})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error("Something went wrong while adding the API Product")})).finally((function(){return ne(!1)}))}},!z&&!T&&!N&&"Create & Publish",(z||T||N)&&i.a.createElement(E.a,{size:24}),ae&&z&&"Creating API Product. . .",!ae&&T&&!N&&"Creating Revision . . .",!ae&&z&&!T&&!N&&"Publishing API Product. . .",!ae&&z&&!T&&N&&"Deploying Revision . . .")))))))}W(V,"useIntl{intl}\nuseState{[wizardStep, setWizardStep](0)}\nuseState{[apiResources, setApiResources]([])}\nuseAppContext{{ settings }}\nuseState{[isPublishButtonClicked, setIsPublishButtonClicked](false)}\nuseState{[isRevisioning, setIsRevisioning](false)}\nuseState{[isDeploying, setIsDeploying](false)}\nuseState{[isPublishing, setIsPublishing](false)}\nuseState{[policies, setPolicies]([])}\nuseEffect{}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiProductCreateWrapper',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}\nuseStyles{classes}",(function(){return[u.a,w.c,H]})),V.propTypes={history:l.a.shape({push:l.a.func}).isRequired},(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(H,"useStyles","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/APIProduct/APIProductCreateWrapper.jsx"),M.register(V,"ApiProductCreateWrapper","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/APIProduct/APIProductCreateWrapper.jsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)}).call(this,a(44)(e))},3644:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n,r=a(0),i=a.n(r),o=a(24),l=a.n(o),s=a(350),c=a(1329);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var u,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(e){var t=e.title,a=e.children;return i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,sm:12,md:12}),i.a.createElement(c.a,{item:!0,sm:0,md:2}),i.a.createElement(c.a,{item:!0,sm:12,md:8},i.a.createElement(c.a,{container:!0,spacing:5},i.a.createElement(c.a,{item:!0,md:12},t),i.a.createElement(c.a,{item:!0,md:12},i.a.createElement(s.a,{elevation:0},a)))),i.a.createElement(c.a,{item:!0,sm:0,md:2}))}d.propTypes={title:l.a.element.isRequired,children:l.a.element.isRequired},(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(d,"APICreateProductBase","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Components/APICreateProductBase.jsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(44)(e))},3645:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return k}));var n,r,i,o=a(0),l=a.n(o),s=a(24),c=a.n(s),u=a(86),p=a(207),d=a(1329),m=a(31),f=a(3206),y=a(3207),b=a(3880),g=a(1330),v=a(166),h=a(658),A=a(665),E=a(3943),P=a(924),C=a(975),S=a(1828);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){var a,n=t.action,r=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return j(j({},e),{},x({},n,r));case"inputType":return j(j({},e),{},(x(a={},n,r),x(a,"inputValue","url"===r?"":null),a));case"preSetAPI":return j(j({},e),{},{name:r.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),version:r.version,context:r.context,endpoint:r.endpoints&&r.endpoints[0]});default:return e}}function k(e){var t=I(Object(o.useState)(0),2),a=t[0],n=t[1],r=e.history,i=I(Object(o.useReducer)(L,{type:"ApiCreateOpenAPI",inputType:"url",inputValue:"",formValidity:!1}),2),s=i[0],c=i[1];function O(e){c({action:"isFormValid",value:e})}var w=I(Object(o.useState)(),2),j=w[0],x=w[1];return l.a.createElement(C.a,{title:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{variant:"h5"},l.a.createElement(m.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.heading",defaultMessage:[{type:0,value:"Create an API using an OpenAPI definition."}]})),l.a.createElement(u.a,{variant:"caption"},l.a.createElement(m.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.sub.heading",defaultMessage:[{type:0,value:"Create an API using an existing OpenAPI definition file or URL."}]})))},l.a.createElement(p.a,null,l.a.createElement(f.a,{alternativeLabel:!0,activeStep:0},l.a.createElement(y.a,null,l.a.createElement(b.a,null,l.a.createElement(m.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.one",defaultMessage:[{type:0,value:"Provide OpenAPI"}]}))),l.a.createElement(y.a,null,l.a.createElement(b.a,null,l.a.createElement(m.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.two",defaultMessage:[{type:0,value:"Create API"}]}))))),l.a.createElement(d.a,{container:!0,spacing:3},l.a.createElement(d.a,{item:!0,xs:12}),l.a.createElement(d.a,{item:!0,xs:1}),l.a.createElement(d.a,{item:!0,xs:11},0===a&&l.a.createElement(S.a,{onValidate:O,apiInputs:s,inputsDispatcher:c}),1===a&&l.a.createElement(P.a,{onValidate:O,onChange:function(e){var t=e.target,a=t.name,n=t.value;c({action:a,value:n})},api:s,isAPIProduct:!1})),l.a.createElement(d.a,{item:!0,xs:1}),l.a.createElement(d.a,{item:!0,xs:11},l.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},l.a.createElement(d.a,{item:!0},0===a&&l.a.createElement(v.b,{to:"/apis/"},l.a.createElement(g.a,null,l.a.createElement(m.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===a&&l.a.createElement(g.a,{onClick:function(){return n((function(e){return e-1}))}},"Back")),l.a.createElement(d.a,{item:!0},0===a&&l.a.createElement(g.a,{onClick:function(){return n((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!s.isFormValid,id:"open-api-create-next-btn"},"Next"),1===a&&l.a.createElement(g.a,{variant:"contained",color:"primary",disabled:!s.isFormValid||j,onClick:function(){x(!0);var e=s.name,t=s.version,a=s.context,n=s.endpoint,i=s.policies,o=s.inputValue,l=s.inputType,c={name:e,version:t,context:a,policies:i};n&&(c.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}});var u=new h.a(c);("file"===l?u.importOpenAPIByFile(o):u.importOpenAPIByUrl(o)).then((function(e){A.a.info("API created successfully"),r.push("/apis/".concat(e.id,"/overview"))})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return x(!1)}))},id:"open-api-create-btn"},"Create"," ",j&&l.a.createElement(E.a,{size:24})))))))}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(k,"useState{[wizardStep, setWizardStep](0)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiCreateOpenAPI',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}"),k.propTypes={history:c.a.shape({push:c.a.func}).isRequired},(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(L,"apiInputsReducer","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/OpenAPI/ApiCreateOpenAPI.jsx"),r.register(k,"ApiCreateOpenAPI","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/OpenAPI/ApiCreateOpenAPI.jsx")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(44)(e))},3646:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return W}));var n,r,i,o=a(0),l=a.n(o),s=a(658),c=a(24),u=a.n(c),p=a(86),d=a(207),m=a(1329),f=a(224),y=a(31),b=a(3206),g=a(3207),v=a(3880),h=a(1330),A=a(166),E=a(1825),P=a(665),C=a(3949),S=a(3995),I=a(3990),O=a(3943),w=a(924),j=a(975),x=a(1824);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){D(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function W(e){var t=Object(f.a)(),a=M(Object(o.useState)(0),2),n=a[0],r=a[1],i=e.history,c=M(Object(o.useState)([]),2),u=c[0],L=c[1];Object(o.useEffect)((function(){s.a.policies("subscription").then((function(e){var a=e.body.list;0===a.length?P.a.info(t.formatMessage({id:"Apis.Create.WSDL.ApiCreateWSDL.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):a.filter((function(e){return"Unlimited"===e.name})).length>0?L(["Unlimited"]):L([a[0].name])}))}),[]);var G=M(Object(o.useReducer)((function(e,t){var a,n=t.action,r=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"isFormValid":return k(k({},e),{},D({},n,r));case"inputType":return k(k({},e),{},(D(a={},n,r),D(a,"inputValue","url"===r?"":null),a));default:return e}}),{type:"SOAP",inputType:"url",inputValue:"",formValidity:!1,mode:"create"}),2),W=G[0],H=G[1];function V(e){H({action:"isFormValid",value:e})}var R=M(Object(o.useState)(),2),T=R[0],F=R[1];return l.a.createElement(j.a,{title:l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{mb:2},l.a.createElement(S.a,{severity:"warning"},l.a.createElement(I.a,null,l.a.createElement(y.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.deprecated.msg",defaultMessage:[{type:0,value:"This feature is deprecated. Please use the WSO2 Integration Studio as an alternative"}]})),l.a.createElement(y.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.deprecated.msg.info.link.msg",defaultMessage:[{type:0,value:"Integration Studio Documentation:"}]}),l.a.createElement(C.a,{href:"https://apim.docs.wso2.com/en/4.1.0/integrate/develop/creating-artifacts/creating-an-api/",target:"_blank"},"https://apim.docs.wso2.com/en/4.1.0/integrate/develop/ creating-artifacts/creating-an-api/"))),l.a.createElement(p.a,{variant:"h5"},l.a.createElement(y.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.heading",defaultMessage:[{type:0,value:"Expose a SOAP Service as a REST API"}]})),l.a.createElement(p.a,{variant:"caption"},l.a.createElement(y.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.sub.heading",defaultMessage:[{type:0,value:"Expose an existing SOAP service as a REST API by importing the WSDL of the SOAP service."}]})))},l.a.createElement(d.a,null,l.a.createElement(b.a,{alternativeLabel:!0,activeStep:n},l.a.createElement(g.a,null,l.a.createElement(v.a,null,"Provide WSDL")),l.a.createElement(g.a,null,l.a.createElement(v.a,null,"Create API")))),l.a.createElement(m.a,{container:!0,spacing:3},l.a.createElement(m.a,{item:!0,md:12}),l.a.createElement(m.a,{item:!0,md:1}),l.a.createElement(m.a,{item:!0,md:11},0===n&&l.a.createElement(x.a,{onValidate:V,apiInputs:W,inputsDispatcher:H}),1===n&&l.a.createElement(w.a,{onValidate:V,onChange:function(e){var t=e.target,a=t.name,n=t.value;H({action:a,value:n})},api:W,isAPIProduct:!1})),l.a.createElement(m.a,{item:!0,md:1}),l.a.createElement(m.a,{item:!0,md:9},l.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},l.a.createElement(m.a,{item:!0},0===n&&l.a.createElement(A.b,{to:"/apis/"},l.a.createElement(h.a,null,l.a.createElement(y.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===n&&l.a.createElement(h.a,{onClick:function(){return r((function(e){return e-1}))}},"Back")),l.a.createElement(m.a,{item:!0},0===n&&l.a.createElement(h.a,{onClick:function(){return r((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!W.isFormValid},"Next"),1===n&&l.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!W.isFormValid||T,onClick:function(){F(!0);var e=W.name,t=W.version,a=W.context,n=W.endpoint,r=W.type,o={name:e,version:t,context:a,policies:u};n&&(o.endpointConfig={endpoint_type:"SOAPTOREST"===r?"address":"http",sandbox_endpoints:{type:"SOAPTOREST"===r?"address":void 0,url:n},production_endpoints:{type:"SOAPTOREST"===r?"address":void 0,url:n}}),("url"===W.inputType?E.a.importByUrl(W.inputValue,o,W.type):E.a.importByFileOrArchive(W.inputValue,o,W.type)).then((function(e){P.a.info("API created successfully"),i.push("/apis/".concat(e.id,"/overview"))})).catch((function(e){e.response?P.a.error(e.response.body.description):P.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return F(!1)}))}},"Create"," ",T&&l.a.createElement(O.a,{size:24})))))))}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(W,"useIntl{intl}\nuseState{[wizardStep, setWizardStep](0)}\nuseState{[policies, setPolicies]([])}\nuseEffect{}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'SOAP',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n        mode: 'create',\n    })}\nuseState{[isCreating, setCreating]}",(function(){return[f.a]})),W.propTypes={history:u.a.shape({push:u.a.func}).isRequired},(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(W,"ApiCreateWSDL","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/WSDL/ApiCreateWSDL.jsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(44)(e))},3647:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return L}));var n,r,i,o=a(0),l=a.n(o),s=a(86),c=a(207),u=a(1329),p=a(224),d=a(31),m=a(3206),f=a(3207),y=a(3880),b=a(1330),g=a(20),v=a(166),h=a(658),A=a(665),E=a(3943),P=a(924),C=a(975),S=a(1829);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function L(){var e=Object(p.a)(),t=j(Object(o.useState)(0),2),a=t[0],n=t[1],r=Object(g.g)(),i=j(Object(o.useState)([]),2),I=i[0],x=i[1];Object(o.useEffect)((function(){h.a.policies("subscription").then((function(t){var a=t.body.list;0===a.length?A.a.info(e.formatMessage({id:"Apis.Create.GraphQL.ApiCreateGraphQL.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):a.filter((function(e){return"Unlimited"===e.name})).length>0?x(["Unlimited"]):x([a[0].name])}))}),[]);var L=j(Object(o.useReducer)((function(e,t){var a,n=t.action,r=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"isFormValid":return O(O({},e),{},w({},n,r));case"inputType":return O(O({},e),{},(w(a={},n,r),w(a,"inputValue","url"===r?"":null),a));case"graphQLInfo":return O(O({},e),{},w({},n,r));case"preSetAPI":return O(O({},e),{},{name:r.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),version:r.version,context:r.context});default:return e}}),{type:"ApiCreateGraphQL",inputType:"file",inputValue:"",formValidity:!1}),2),k=L[0],D=L[1];function M(e){D({action:"isFormValid",value:e})}var G=j(Object(o.useState)(),2),W=G[0],H=G[1];return l.a.createElement(C.a,{title:l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{variant:"h5"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.heading",defaultMessage:[{type:0,value:"Create an API using a GraphQL SDL definition"}]})),l.a.createElement(s.a,{variant:"caption"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.sub.heading",defaultMessage:[{type:0,value:"Create an API by importing an existing GraphQL SDL definition."}]})))},l.a.createElement(c.a,null,0===a&&l.a.createElement(m.a,{alternativeLabel:!0,activeStep:0},l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:[{type:0,value:"Provide GraphQL"}]}))),l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:[{type:0,value:"Create API"}]})))),1===a&&l.a.createElement(m.a,{alternativeLabel:!0,activeStep:1},l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:[{type:0,value:"Provide GraphQL"}]}))),l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:[{type:0,value:"Create API"}]}))))),l.a.createElement(u.a,{container:!0,spacing:3,style:{marginBottom:20}},l.a.createElement(u.a,{item:!0,md:12}),l.a.createElement(u.a,{item:!0,md:1}),l.a.createElement(u.a,{item:!0,md:11},0===a&&l.a.createElement(S.a,{onValidate:M,apiInputs:k,inputsDispatcher:D}),1===a&&l.a.createElement(P.a,{onValidate:M,onChange:function(e){var t=e.target,a=t.name,n=t.value;D({action:a,value:n})},api:k,isAPIProduct:!1})),l.a.createElement(u.a,{item:!0,md:1}),l.a.createElement(u.a,{item:!0,md:9},l.a.createElement(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},l.a.createElement(u.a,{item:!0},0===a&&l.a.createElement(v.b,{to:"/apis/"},l.a.createElement(b.a,null,l.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===a&&l.a.createElement(b.a,{onClick:function(){return n((function(e){return e-1}))}},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.back",defaultMessage:[{type:0,value:"Back"}]}))),l.a.createElement(u.a,{item:!0},0===a&&l.a.createElement(b.a,{onClick:function(){return n((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!k.isFormValid,"data-testid":"create-graphql-next-btn"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.next",defaultMessage:[{type:0,value:"Next"}]})),1===a&&l.a.createElement(b.a,{variant:"contained",color:"primary",disabled:!k.isFormValid||W,onClick:function(){var e;H(!0);var t=k.name,a=k.version,n=k.context,i=k.endpoint,o=k.implementationType,l=k.inputValue,s=k.graphQLInfo.operations,c={name:t,version:a,context:n,policies:I,operations:s};i&&(c.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:i},production_endpoints:{url:i}});var u=new h.a(c),p=(w(e={additionalProperties:JSON.stringify(c),implementationType:o},"file","file"),w(e,"file",l),e);u.importGraphQL(p).then((function(e){var a=e.obj.id;A.a.info("".concat(t," API created successfully")),r.push("/apis/".concat(a,"/overview"))})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return H(!1)}))},"data-testid":"itest-create-graphql-api-button"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.create",defaultMessage:[{type:0,value:"Create"}]})," ",W&&l.a.createElement(E.a,{size:24})))))))}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(L,"useIntl{intl}\nuseState{[wizardStep, setWizardStep](0)}\nuseHistory{history}\nuseState{[policies, setPolicies]([])}\nuseEffect{}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiCreateGraphQL',\n        inputType: 'file',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}",(function(){return[p.a,g.g]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(L,"ApiCreateGraphQL","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/GraphQL/ApiCreateGraphQL.jsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(44)(e))},3648:function(e,t,a){"use strict";(function(e){var n,r=a(0),i=a.n(r),o=a(1835);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,s,c=function(){return i.a.createElement(o.a,{isWebSocket:!0})},u=c;t.a=u,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"ApiCreateWebSocket","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/WebSocket/ApiCreateWebSocket.jsx"),l.register(u,"default","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/WebSocket/ApiCreateWebSocket.jsx")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,a(44)(e))},3649:function(e,t,a){"use strict";(function(e){var n,r=a(0),i=a.n(r),o=a(86),l=a(207),s=a(224),c=a(31),u=a(20),p=a(1329),d=a(1330),m=a(166),f=a(1338),y=a(1344),b=a(1417),g=a(302),v=a(3943),h=a(658),A=a(665),E=a(975),P=a(778),C=a(924),S=a(739),I=a(94);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},D=Object(g.a)((function(e){return{mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)}}})),M=function e(t){var a=t.history,n=Object(s.a)(),g=Object(S.d)(),O=g.data,L=g.isLoading,k=g.error,M=x(Object(r.useState)(null),2),G=M[0],W=M[1];Object(r.useEffect)((function(){k&&W(k.message)}),[k]);var H=x(Object(r.useState)(),2),V=H[0],R=H[1],T=x(Object(r.useState)(!1),2),F=T[0],B=T[1],N=x(Object(r.useState)(!1),2),U=N[0],Q=N[1],z=x(Object(r.useState)(!1),2),_=z[0],q=z[1],$=x(Object(r.useState)(!1),2),K=$[0],J=$[1],Y=D(),X=x(Object(r.useState)([]),2),Z=X[0],ee=X[1],te=Object(u.i)().apiType;te&&(te=te.toUpperCase());var ae="WEBSUB"===te;Object(r.useEffect)((function(){h.a.asyncAPIPolicies().then((function(e){var t=e.body.list;0===t.length?A.a.info(n.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):ae&&t.filter((function(e){return"AsyncWHUnlimited"===e.policyName})).length>0?ee(["AsyncWHUnlimited"]):!ae&&t.filter((function(e){return"AsyncUnlimited"===e.policyName})).length>0?ee(["AsyncUnlimited"]):ee([t[0].policyName])}))}),[]);var ne={WebSocket:"WS",SSE:"SSE",WebSub:"WEBSUB"},re=x(Object(r.useState)(!te||te===ne.WebSub),2),ie=re[0],oe=re[1];var le=x(Object(r.useReducer)((function(e,t){var a=t.action,n=t.value;switch(a){case"name":case"version":case"context":case"endpoint":case"policies":case"isFormValid":return w(w({},e),{},j({},a,n));case"protocol":return oe(ne[n]===ne.WebSub),w(w({},e),{},j({},a,ne[n]));default:return e}}),{formValidity:!1}),2),se=le[0],ce=le[1],ue=se.name&&se.context&&se.version&&!V;function pe(e){var t=e.target,a=t.name,n=t.value;ce({action:a,value:n})}function de(){R(!0);var e=se.name,t=se.version,a=se.context,n=se.endpoint,r=se.protocol,i={name:e,version:t,context:a,endpoint:n,type:te||r.toUpperCase(),policies:Z},o="http";return(te&&"WS"===te.toUpperCase()||r&&"WS"===r.toUpperCase())&&(o="ws"),n&&(i.endpointConfig={endpoint_type:o,sandbox_endpoints:{url:n},production_endpoints:{url:n}}),new h.a(i).saveStreamingAPI().then((function(e){return A.a.info("API created successfully"),e})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error("Something went wrong while adding the API"),console.error(e),B(!1)})).finally((function(){R(!1)})).finally((function(){return R(!1)}))}var me=i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{variant:"h5"},i.a.createElement(c.a,{id:"Apis.Create.StreamingAPI.APICreateStreamingAPI.api.heading",defaultMessage:[{type:0,value:"Create a Streaming API"}]})),i.a.createElement(o.a,{variant:"caption"},ae?i.a.createElement(c.a,{id:"Apis.Create.StreamingAPI.APICreateStreamingAPI.websub.api.sub.heading",defaultMessage:[{type:0,value:"Create an API by providing a Name, a Version and a Context"}]}):i.a.createElement(c.a,{id:"Apis.Create.StreamingAPI.APICreateStreamingAPI.api.sub.heading",defaultMessage:[{type:0,value:"Create an API by providing a Name, a Version, a Context and the Endpoint"}]})));return i.a.createElement(E.a,{title:me},i.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},G&&i.a.createElement(p.a,{item:!0,xs:11},i.a.createElement(P.a,{onClose:function(){return W(null)},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:G})),i.a.createElement(p.a,{item:!0,xs:12},L&&i.a.createElement(l.a,{mt:-2},i.a.createElement(v.a,{"data-testid":"loading-publisher-settings"}))),i.a.createElement(p.a,{item:!0,xs:12}),i.a.createElement(p.a,{item:!0,md:1,xs:0}),i.a.createElement(p.a,{item:!0,md:11,xs:12},i.a.createElement(C.a,{onValidate:function(e){ce({action:"isFormValid",value:e})},onChange:pe,api:se,endpointPlaceholderText:"Streaming Provider",appendChildrenBeforeEndpoint:!0,hideEndpoint:ie,isWebSocket:te&&te===ne.WebSocket||se.protocol===ne.WebSocket},i.a.createElement(f.a,{fullWidth:!0,select:!0,label:i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{id:"Apis.Create.streaming.Components.SelectPolicies.business.plans",defaultMessage:[{type:0,value:"Protocol"}]}),i.a.createElement("sup",{className:Y.mandatoryStar},"*")),value:te?{WS:"WebSocket",SSE:"SSE",WEBSUB:"WebSub"}[te]:se.protocol,disabled:te,name:"protocol",SelectProps:{multiple:!1,renderValue:function(e){return e}},margin:"normal",variant:"outlined",InputProps:{id:"itest-id-apipolicies-input"},onChange:pe},[{displayName:"WebSocket",description:"WebSocket API"},{displayName:"WebSub",description:"WebHook API based on WebSub specification"},{displayName:"SSE",description:"Server-Sent Events"}].map((function(e){return i.a.createElement(y.a,{dense:!0,disableGutters:!1,value:e.displayName},i.a.createElement(b.a,{primary:e.displayName,secondary:e.description}))}))))),i.a.createElement(p.a,{item:!0,md:1,xs:0}),i.a.createElement(p.a,{item:!0,md:11,xs:12},i.a.createElement(p.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(p.a,{item:!0},i.a.createElement(d.a,{variant:"contained",color:"primary",disabled:!(ue&&se.isFormValid),onClick:function(){de().then((function(e){a.push("/apis/".concat(e.id,"/overview"))}))},"data-testid":"itest-create-streaming-api-button"},"Create"," ",V&&!K&&i.a.createElement(v.a,{size:24}))),!I.a.isNotPublisher()&&i.a.createElement(p.a,{item:!0},i.a.createElement(d.a,{id:"itest-id-apicreatedefault-createnpublish",variant:"contained",color:"primary",disabled:_||U||!ue||!se.isFormValid,onClick:function(){var t=new h.a;J(!0),de().then((function(r){Q(!0);t.createRevision(r.id,{description:"Initial Revision"}).then((function(i){var o=i.body.id;A.a.info("API Revision created successfully"),Q(!1);var l=O.environment.map((function(e){return e.name})),s=[],c=function(e){var t=O.environment.find((function(t){return t.name===e&&t.vhosts.length>0}));return t&&t.vhosts[0].host};l&&l.length>0&&(l.includes("Default")&&c("Default")?s.push({name:"Default",displayOnDevportal:!0,vhost:c("Default")}):c(l[0])&&s.push({name:l[0],displayOnDevportal:!0,vhost:c(l[0])})),q(!0),t.deployRevision(r.id,o,s).then((function(){A.a.info("API Revision Deployed Successfully"),q(!1),B(!0),r.publish().then((function(t){t.body.workflowStatus===e.WORKFLOW_STATUS.CREATED?A.a.info(n.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.publishStatus",defaultMessage:[{type:0,value:"Lifecycle state change request has been sent"}]})):A.a.info(n.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.otherStatus",defaultMessage:[{type:0,value:"API updated successfully"}]})),a.push("/apis/".concat(r.id,"/overview"))})).catch((function(e){e.response?(A.a.error(e.response.body.description),W(e.response.body)):(A.a.error(n.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.publish",defaultMessage:[{type:0,value:"Something went wrong while publishing the API"}]})),W("Something went wrong while publishing the API")),console.error(e)})).finally((function(){B(!1),J(!1)}))})).catch((function(e){e.response?(A.a.error(e.response.body.description),W(e.response.body)):(A.a.error(n.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.deploy.revision",defaultMessage:[{type:0,value:"Something went wrong while deploying the API Revision"}]})),W("Something went wrong while deploying the API Revision")),console.error(e)})).finally((function(){q(!1)}))})).catch((function(e){e.response?(A.a.error(e.response.body.description),W(e.response.body)):(A.a.error(n.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.create.revision",defaultMessage:[{type:0,value:"Something went wrong while creating the API Revision"}]})),W("Something went wrong while creating the API Revision")),console.error(e)})).finally((function(){Q(!1)}))}))}},!F&&!U&&!_&&"Create & Publish",(F||U||_)&&i.a.createElement(v.a,{size:24}),V&&F&&"Creating API . . .",!V&&U&&!_&&"Creating Revision . . .",!V&&F&&!U&&!_&&"Publishing API . . .",!V&&F&&!U&&_&&"Deploying Revision . . .")),i.a.createElement(p.a,{item:!0},i.a.createElement(m.b,{to:"/apis/"},i.a.createElement(d.a,{variant:"text"},i.a.createElement(c.a,{id:"Apis.Create.Default.APICreateDefault.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))))))))};k(M,"useIntl{intl}\nusePublisherSettings{{ data: settings, isLoading, error: settingsError }}\nuseState{[pageError, setPageError](null)}\nuseEffect{}\nuseState{[isCreating, setIsCreating]}\nuseState{[isPublishing, setIsPublishing](false)}\nuseState{[isRevisioning, setIsRevisioning](false)}\nuseState{[isDeploying, setIsDeploying](false)}\nuseState{[isPublishButtonClicked, setIsPublishButtonClicked](false)}\nuseStyles{classes}\nuseState{[policies, setPolicies]([])}\nuseParams{{ apiType }}\nuseEffect{}\nuseState{[hideEndpoint, setHideEndpoint](!apiType || apiType === protocolKeys.WebSub)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        formValidity: false,\n    })}",(function(){return[s.a,S.d,D,u.i]})),M.WORKFLOW_STATUS={CREATED:"CREATED"};var G,W,H=Object(u.j)(M);t.a=H,(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(D,"useStyles","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/StreamingAPI/APICreateStreamingAPI.jsx"),G.register(M,"APICreateStreamingAPI","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/StreamingAPI/APICreateStreamingAPI.jsx"),G.register(H,"default","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/StreamingAPI/APICreateStreamingAPI.jsx")),(W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&W(e)}).call(this,a(44)(e))},3650:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return V}));var n,r=a(0),i=a.n(r),o=a(24),l=a.n(o),s=a(86),c=a(207),u=a(1329),p=a(31),d=a(3206),m=a(3207),f=a(3880),y=a(1330),b=a(166),g=a(658),v=a(665),h=a(3943),A=a(924),E=a(975),P=a(1344),C=a(1417),S=a(1338),I=a(302),O=a(1915),w=a(946),j=a.n(w),x=a(847),L=a(3651),k=a(1826);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){G(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function V(e){var t=W(Object(r.useState)(0),2),a=t[0],n=t[1],o=e.history,l=F(),I=W(Object(r.useState)(!0),2),w=I[0],D=I[1],H=W(Object(r.useState)(!0),2),V=H[0],R=H[1],T=W(Object(r.useState)(!0),2),B=T[0],N=T[1];var U=W(Object(r.useReducer)((function(e,t){var a,n=t.action,r=t.value;switch(n){case"type":case"inputValue":case"name":case"version":case"endpoint":case"gatewayVendor":case"asyncTransportProtocols":case"protocol":case"context":case"policies":case"isFormValid":return M(M({},e),{},G({},n,r));case"inputType":return M(M({},e),{},(G(a={},n,r),G(a,"inputValue","url"===r?"":null),a));case"preSetAPI":return M(M({},e),{},{name:r.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),version:r.version,context:r.context,endpoint:r.endpoints&&r.endpoints[0],gatewayVendor:r.gatewayVendor,asyncTransportProtocols:r.asyncTransportProtocols});case"externalEndpoint":return M(M({},e),{},G({},n,r));default:return e}}),{type:"ApiCreateAsyncAPI",inputType:"url",inputValue:"",formValidity:!1}),2),Q=U[0],z=U[1],_={WebSocket:"WS",SSE:"SSE",WebSub:"WEBSUB",Other:"ASYNC"};function q(e){return!!e&&!j.a.string().uri().empty().validate(e).error}function $(e){z({action:"isFormValid",value:e})}var K=W(Object(r.useState)(),2),J=K[0],Y=K[1];return i.a.createElement(E.a,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"h5"},i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.heading",defaultMessage:[{type:0,value:"Create an API using an AsyncAPI definition."}]})),i.a.createElement(s.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.sub.heading",defaultMessage:[{type:0,value:"Create an API using an existing AsyncAPI definition file or URL."}]})))},i.a.createElement(c.a,null,i.a.createElement(d.a,{alternativeLabel:!0,activeStep:0},i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.wizard.one",defaultMessage:[{type:0,value:"Provide AsyncAPI"}]}))),i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.wizard.two",defaultMessage:[{type:0,value:"Create API"}]}))))),i.a.createElement(u.a,{container:!0,spacing:3},i.a.createElement(u.a,{item:!0,xs:12}),i.a.createElement(u.a,{item:!0,xs:1}),i.a.createElement(u.a,{item:!0,xs:11},0===a&&i.a.createElement(k.a,{onValidate:$,apiInputs:Q,inputsDispatcher:z}),1===a&&i.a.createElement(A.a,{onValidate:$,onChange:function(e){var t=e.target,a=t.name,n=t.value;z({action:a,value:n})},api:Q,isAPIProduct:!1,hideEndpoint:w,endpointPlaceholderText:"Streaming Provider",appendChildrenBeforeEndpoint:!0},i.a.createElement(u.a,{container:!0,spacing:2},"solace"===Q.gatewayVendor&&0!==Q.asyncTransportProtocols.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{item:!0,xs:12,md:6,lg:3},i.a.createElement(s.a,{component:"p",variant:"subtitle2"},i.a.createElement(p.a,{id:"Apis.Details.NewOverview.MetaData.solace.transports",defaultMessage:[{type:0,value:"Available Protocols"}]}))),i.a.createElement(u.a,{item:!0,xs:12,md:6,lg:9},Q.asyncTransportProtocols.map((function(e){return i.a.createElement(O.a,{key:e,label:Object(x.c)(e),style:{"font-size":13,height:20,marginRight:5},color:"primary"})}))))),"wso2"===Q.gatewayVendor&&i.a.createElement(S.a,{fullWidth:!0,select:!0,label:i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{id:"Apis.Create.asyncAPI.Components.SelectPolicies.business.plans",defaultMessage:[{type:0,value:"Protocol"}]}),i.a.createElement("sup",{className:l.mandatoryStar},"*")),value:Q.protocol,name:"protocol",SelectProps:{multiple:!1,renderValue:function(e){return e}},margin:"normal",variant:"outlined",InputProps:{id:"itest-id-apipolicies-input"},onChange:function(e){var t=e.target,a=t.name,n=t.value;"WebSub"===n?(D(!0),R(!0),N(!0)):"Other"===n?(D(!0),R(!1),N(q(Q.externalEndpoint))):(D(!1),R(!0),N(!0)),z({action:a,value:n})}},[{name:"ws",displayName:"WebSocket",description:"WebSocket API"},{name:"websub",displayName:"WebSub",description:"WebHook API based on WebSub specification"},{name:"sse",displayName:"SSE",description:"Server-Sent Events"},{name:"other",displayName:"Other",description:"Other Async APIs such as AMQP, MQTT etc."}].map((function(e){return i.a.createElement(P.a,{dense:!0,disableGutters:!1,id:e.name,key:e.name,value:e.displayName},i.a.createElement(C.a,{primary:e.displayName,secondary:e.description}))}))),!V&&i.a.createElement(L.a,{classes:l,apiInputs:Q,inputsDispatcher:z,isValidExternalEndpoint:B,setValidExternalEndpoint:N,validateEndpoint:q}))),i.a.createElement(u.a,{item:!0,xs:1}),i.a.createElement(u.a,{item:!0,xs:11},i.a.createElement(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(u.a,{item:!0},0===a&&i.a.createElement(b.b,{to:"/apis/"},i.a.createElement(y.a,null,i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===a&&i.a.createElement(y.a,{onClick:function(){return n((function(e){return e-1}))}},"Back")),i.a.createElement(u.a,{item:!0},0===a&&i.a.createElement(y.a,{onClick:function(){return n((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!Q.isFormValid},"Next"),1===a&&i.a.createElement(y.a,{variant:"contained",color:"primary",disabled:!Q.isFormValid||J||!B,onClick:function(){Y(!0);var e=Q.name,t=Q.version,a=Q.context,n=Q.endpoint,r=Q.policies,i=Q.inputValue,l=Q.inputType,s=Q.protocol,c=Q.gatewayVendor,u=Q.externalEndpoint,p={name:e,version:t,context:a,policies:r,type:_[s],gatewayVendor:c};"solace"===c&&(p.type=_.WebSub),n&&(p.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}}),"ASYNC"===_[s]&&(p.advertiseInfo={advertised:!0,apiExternalProductionEndpoint:u,apiExternalSandboxEndpoint:u,originalDevPortalUrl:"",apiOwner:"admin",vendor:"WSO2"});var d=new g.a(p);("file"===l?d.importAsyncAPIByFile(i):d.importAsyncAPIByUrl(i)).then((function(e){v.a.info("API created successfully"),o.push("/apis/".concat(e.id,"/overview"))})).catch((function(e){e.response?v.a.error(e.response.body.description):v.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return Y(!1)}))}},"Create"," ",J&&i.a.createElement(h.a,{size:24})))))))}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(V,"useState{[wizardStep, setWizardStep](0)}\nuseStyles{classes}\nuseState{[hideEndpoint, setHideEndpoint](true)}\nuseState{[hideExternalEndpoint, setHideExternalEndpoint](true)}\nuseState{[isValidExternalEndpoint, setValidExternalEndpoint](true)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiCreateAsyncAPI',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}",(function(){return[F]})),V.propTypes={history:l.a.shape({push:l.a.func}).isRequired};var R,T,F=Object(I.a)((function(e){return{mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)},externalEndpointWarning:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},alertTitle:{fontWeight:e.typography.fontWeightMedium,marginTop:-2}}}));(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(V,"ApiCreateAsyncAPI","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/AsyncAPI/ApiCreateAsyncAPI.jsx"),R.register(F,"useStyles","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/AsyncAPI/ApiCreateAsyncAPI.jsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)}).call(this,a(44)(e))},3651:function(e,t,a){"use strict";(function(e){var n,r=a(0),i=a.n(r),o=a(31),l=a(1338),s=a(905),c=a(86);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,p,d=function(e){var t=e.classes,a=e.apiInputs,n=e.inputsDispatcher,r=e.isValidExternalEndpoint,u=e.setValidExternalEndpoint,p=e.validateEndpoint;return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{fullWidth:!0,id:"itest-id-api-external-endpoint-input",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.externalEndpoint",defaultMessage:[{type:0,value:"External Endpoint"}]}),i.a.createElement("sup",{className:t.mandatoryStar},"*")),name:"externalEndpoint",value:a.externalEndpoint,onChange:function(e){var t=e.target,a=t.name,r=t.value;u(p(r)),n({action:a,value:r})},helperText:!r&&i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.externalEndpoint.error",defaultMessage:[{type:0,value:"Invalid Endpoint URL"}]})),error:!r,margin:"normal",variant:"outlined"}),i.a.createElement(s.a,{severity:"warning",className:t.externalEndpointWarning},i.a.createElement(c.a,{gutterBottom:!0,component:"div",className:t.alertTitle},i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.advertiseOnly.warning.title",defaultMessage:[{type:0,value:'"Other" type streaming APIs will be created as third party APIs.'}]})),i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.advertiseOnly.warning",defaultMessage:[{type:0,value:"API Manager only supports the streaming APIs of types WebSocket, SSE and WebSub. Please create one of the supported types if you want to deploy it in the gateway."}]})))},m=d;t.a=m,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"ExternalEndpoint","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/AsyncAPI/ExternalEndpoint.jsx"),u.register(m,"default","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/AsyncAPI/ExternalEndpoint.jsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(44)(e))},924:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return M}));var n,r=a(0),i=a.n(r),o=a(24),l=a.n(o),s=a(1338),c=a(1329),u=a(3946),p=a(1337),d=a(3944),m=a(3943),f=a(1915),y=a(86),b=a(302),g=a(31),v=a(816),h=a.n(v),A=a(750),E=a(658);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,i=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var w,j,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=Object(b.a)((function(e){return{mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)},helperTextContext:{"& p":{textOverflow:"ellipsis",width:400,display:"block",whiteSpace:"nowrap",overflow:"hidden"}},endpointValidChip:{color:"green",border:"1px solid green"},endpointInvalidChip:{color:"#ffd53a",border:"1px solid #ffd53a"},endpointErrorChip:{color:"red",border:"1px solid red"},iconButton:{padding:e.spacing(1)},iconButtonValid:{padding:e.spacing(1),color:h.a[500]}}}));function k(e,t){var a,n=e.context,r=e.version;return a=t?"{channel}/{version}":"{context}/{version}",n&&(a=n,n.indexOf("{version}")<0&&(a=n+"/{version}")),r&&(a=a.replace("{version}",r)),a}function D(e,t){return(e.startsWith("/")?e.toLowerCase():"/"+e.toLowerCase())===t.toLowerCase()}function M(e){var t=e.onChange,a=e.onValidate,n=e.api,o=e.isAPIProduct,l=e.isWebSocket,b=e.children,v=e.appendChildrenBeforeEndpoint,h=e.hideEndpoint,P=L(),S=I(Object(r.useState)({}),2),O=S[0],w=S[1],j=I(Object(r.useState)(),2),x=j[0],M=j[1],G=I(Object(r.useState)(""),2),W=G[0],H=G[1],V=I(Object(r.useState)(!1),2),R=V[0],T=V[1],F=I(Object(r.useState)(!1),2),B=F[0],N=F[1];Object(r.useEffect)((function(){a(Boolean(n.name)&&(o||Boolean(n.version))&&Boolean(n.context))}),[]);var U,Q,z,_=function(e){var t=Object.entries(e).length>0&&Object.entries(e).map((function(e){var t=I(e,2)[1];return null==t})).reduce((function(e,t){return e&&t}));t=t&&Boolean(n.name)&&(o||Boolean(n.version))&&Boolean(n.context),a(t,O),w(e)};function q(e,t){switch(e){case"name":var a=A.a.apiName.validate(t,{abortEarly:!1}).error;null===a?A.a.apiParameter.validate(e+":"+t).then((function(e){var n;e.body.list.length>0&&t.toLowerCase()===(null===(n=e.body.list[0].name)||void 0===n?void 0:n.toLowerCase())?_(C(C({},O),{},{name:{details:[{message:"Name "+t+" already exists"}]}})):_(C(C({},O),{},{name:a}))})):_(C(C({},O),{},{name:a}));break;case"context":var r=A.a.apiContext.required().validate(t,{abortEarly:!1}).error,i=t.startsWith("/")?t:"/"+t;null===r?A.a.apiParameter.validate(e+":"+i).then((function(e){var a=e.body.list.length;a>0&&D(t,e.body.list[0].context)?_(C(C({},O),{},{context:{details:[{message:l?i+" channel already exists":i+" context already exists"}]}})):a>0&&D(t,e.body.list[0].contextTemplate)?_(C(C({},O),{},{context:{details:[{message:i+" dynamic context already exists"}]}})):_(C(C({},O),{},{context:r,version:null}))})):_(C(C({},O),{},{context:r}));break;case"version":var o=A.a.apiVersion.required().validate(t).error;if(null===o){var s=n.context.includes("/")?n.context+"/"+t:"/"+n.context+"/"+t;A.a.apiParameter.validate("context:"+n.context+"/"+t).then((function(e){e.body.list.length>0&&(void 0!==e.body.list[0].version&&e.body.list[0].version.toLowerCase()===t.toLowerCase()||"1.0.0"===t)?_(C(C({},O),{},{version:{message:s+" context with version already exists"}})):_(C(C({},O),{},{version:o}))}))}else _(C(C({},O),{},{version:o}));break;case"endpoint":if(l&&t&&t.length>0){var c=A.a.wsUrl.validate(t).error;_(C(C({},O),{},{endpointURL:c}))}}}return i.a.createElement(c.a,{item:!0,md:11},i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(s.a,{autoFocus:!0,fullWidth:!0,id:"api-name",error:Boolean(O.name),label:i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.name",defaultMessage:[{type:0,value:"Name"}]}),i.a.createElement("sup",{className:P.mandatoryStar},"*")),helperText:O.name&&O.name.details.map((function(e,t){return i.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)})),value:n.name,name:"name",onChange:t,InputProps:{id:"itest-id-apiname-input",onBlur:function(e){q("name",e.target.value)}},InputLabelProps:{for:"itest-id-apiname-input"},margin:"normal",variant:"outlined"}),i.a.createElement(c.a,{container:!0,spacing:2},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{item:!0,md:12},i.a.createElement(s.a,{fullWidth:!0,id:"context",error:Boolean(O.context),label:i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.api.product.context",defaultMessage:[{type:0,value:"Context"}]}),i.a.createElement("sup",{className:P.mandatoryStar},"*")),name:"context",value:n.context,onChange:t,InputProps:{onBlur:function(e){q("context",e.target.value)}},helperText:O.context&&O.context.details.map((function(e,t){return i.a.createElement("div",{key:e.message,style:{marginTop:0!==t&&"10px"}},e.message)}))||"API Product will be exposed in ".concat(k(n)," context at the gateway"),margin:"normal",variant:"outlined"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{item:!0,md:8,xs:6},i.a.createElement(s.a,{fullWidth:!0,id:"context",error:Boolean(O.context),label:i.a.createElement(i.a.Fragment,null,l?i.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.api.channel",defaultMessage:[{type:0,value:"Channel"}]}):i.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.api.context",defaultMessage:[{type:0,value:"Context"}]}),i.a.createElement("sup",{className:P.mandatoryStar},"*")),name:"context",value:n.context,onChange:t,InputProps:{id:"itest-id-apicontext-input",onBlur:function(e){q("context",e.target.value)}},InputLabelProps:{for:"itest-id-apicontext-input"},helperText:O.context&&O.context.details.map((function(e,t){return i.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)}))||"API will be exposed in ".concat(k(n,l)," context at the gateway"),classes:{root:P.helperTextContext},margin:"normal",variant:"outlined"})),i.a.createElement(c.a,{item:!0,md:4,xs:6},i.a.createElement(s.a,{fullWidth:!0,id:"version",error:Boolean(O.version),label:i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.version",defaultMessage:[{type:0,value:"Version"}]}),i.a.createElement("sup",{className:P.mandatoryStar},"*")),name:"version",value:n.version,onChange:t,InputProps:{id:"itest-id-apiversion-input",onBlur:function(e){q("version",e.target.value)}},InputLabelProps:{for:"itest-id-apiversion-input"},helperText:O.version&&O.version.message,margin:"normal",variant:"outlined"})))),v&&!!b&&b,!o&&!h&&i.a.createElement(s.a,{fullWidth:!0,id:"itest-id-apiendpoint-input",label:"Endpoint",name:"endpoint",value:n.endpoint,onChange:t,helperText:O.endpointURL&&O.endpointURL.details.map((function(e,t){return i.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)})),error:Boolean(O.endpointURL),margin:"normal",variant:"outlined",InputProps:{onBlur:function(e){q("endpoint",e.target.value)},endAdornment:i.a.createElement(u.a,{position:"end"},W&&i.a.createElement(f.a,{label:W,className:x?P.endpointValidChip:(U=B,Q=P.endpointErrorChip,z=P.endpointInvalidChip,U?Q:z),variant:"outlined"}),!l&&i.a.createElement(p.a,{className:x?P.iconButtonValid:P.iconButton,"aria-label":"TestEndpoint",onClick:function(){return e=n.endpoint,T(!0),void(new E.a).testEndpoint(e).then((function(e){null!==e.body.error?(H(e.body.error),N(!0)):(H(e.body.statusCode+" "+e.body.statusMessage),N(!1)),e.body.statusCode>=200&&e.body.statusCode<300?(M(!0),N(!1)):M(!1)})).finally((function(){T(!1)}));var e},disabled:R},R?i.a.createElement(m.a,{size:20}):i.a.createElement(d.a,null,"check_circle")))}}),!v&&!!b&&b),i.a.createElement(c.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},i.a.createElement(c.a,{item:!0},i.a.createElement(y.a,{variant:"caption",display:"block",gutterBottom:!0},i.a.createElement("sup",{style:{color:"red"}},"*")," ","Mandatory fields"))))}x(M,"useStyles{classes}\nuseState{[validity, setValidity]({})}\nuseState{[isEndpointValid, setIsEndpointValid]}\nuseState{[statusCode, setStatusCode]('')}\nuseState{[isUpdating, setUpdating](false)}\nuseState{[isErrorCode, setIsErrorCode](false)}\nuseEffect{}",(function(){return[L]})),M.defaultProps={onValidate:function(){},api:{},isWebSocket:!1},M.propTypes={api:l.a.shape({}),isAPIProduct:l.a.shape({}).isRequired,isWebSocket:l.a.shape({}),onChange:l.a.func.isRequired,onValidate:l.a.func},(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(L,"useStyles","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx"),w.register(k,"actualContext","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx"),w.register(D,"checkContext","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx"),w.register(M,"DefaultAPIForm","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)}).call(this,a(44)(e))},975:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n,r=a(0),i=a.n(r),o=a(24),l=a.n(o),s=a(350),c=a(1329);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var u,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(e){var t=e.title,a=e.children;return i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12}),i.a.createElement(c.a,{item:!0,sm:!1,md:3}),i.a.createElement(c.a,{item:!0,sm:12,md:6},i.a.createElement(c.a,{container:!0,spacing:5},i.a.createElement(c.a,{item:!0,md:12},t),i.a.createElement(c.a,{item:!0,xs:12,md:12},i.a.createElement(s.a,{elevation:0},a)))))}d.propTypes={title:l.a.element.isRequired,children:l.a.arrayOf(l.a.element).isRequired},(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(d,"APICreateBase","/home/jenkins/workspace/platform-builds/apim-apps/target/checkout/portals/publisher/source/src/app/components/Apis/Create/Components/APICreateBase.jsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(44)(e))}}]);
//# sourceMappingURL=APICreateRoutes.579f85211cdf00564e90.bundle.js.map