(this.webpackJsonp=this.webpackJsonp||[]).push([[19],{1844:function(e,a){},1845:function(e,a){},1851:function(e,a){},1861:function(e,a){},3974:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return xe}));var n=t(2),l=t.n(n),r=t(1630),i=t(17),o=t.n(i),s=t(1665),c=t(1619),d=t(1618),u=t(1657),m=t(42),p=t(3951),g=t(1276),f=t.n(g),h=t(3547),E=t.n(h),y=t(3948),v=t(3883),b=(t(3670),t(3672)),x=t.n(b),S=t(3683),O=t(3674),T=t(3878),R=t(1084),C=t(334),A=t(3882),k=t(3684),j=t(3685),w=t(1701),P=t.n(w),N=t(1247),B=t.n(N),I=t(3946),H=t(1662),q=t(192);const L=Object(u.a)(e=>({root:{width:"100%"},title:{fontSize:e.typography.pxToRem(15),fontWeight:"bold",flexBasis:"50%",flexShrink:0,marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(4),marginRight:e.spacing(1)},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,flexBasis:"50%",flexShrink:0,marginTop:e.spacing(1),marginBottom:e.spacing(1)},column:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,flexBasis:"33.33%",marginLeft:e.spacing(1)}}));function D(e){const a=L(),{api:t}=Object(n.useContext)(R.a),{open:r,setOpen:i}=e,[o,s]=Object(n.useState)([]),[u,m]=Object(n.useState)(null);Object(n.useEffect)(()=>{const e=t.id;(new C.a).getGraphqlPoliciesComplexity(e).then(e=>{m(e.list);const a=[...new Set(e.list.map(e=>e.type))];s(a),0===e.list.length&&function(){const e=t.id;(new C.a).getGraphqlPoliciesComplexityTypes(e).then(e=>{const a=[];e.typeList.map(e=>(e.fieldList.map(t=>{const n={};return n.type=e.type,n.field=t,n.complexityValue=1,a.push(n),t}),a)),m(a);const t=[...new Set(a.map(e=>e.type))];s(t)})}()})},[]);return null===u?l.a.createElement(q.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("div",{className:a.title,style:{display:"flex",position:"relative"}},l.a.createElement("div",null,l.a.createElement(d.a,{id:"Apis.Details.GraphQLConsole.QueryComplexityView.title",defaultMessage:"Custom Complexity Values"})),l.a.createElement(H.a,{size:"small",onClick:()=>{i(!r)}},l.a.createElement(P.a,null))),l.a.createElement(I.a,null),l.a.createElement("div",{className:a.root,style:{maxHeight:"740px",overflow:"scroll"}},l.a.createElement("div",null,o.map(e=>l.a.createElement(A.a,null,l.a.createElement(k.a,{expandIcon:l.a.createElement(B.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(c.a,{className:a.heading},e)),l.a.createElement(I.a,null),u.map(t=>t.type===e&&l.a.createElement(j.a,null,l.a.createElement("div",{className:a.column},t.field,":"),l.a.createElement("div",{className:a.column},t.complexityValue)))))))))}D.propTypes={open:o.a.isRequired,setOpen:o.a.func.isRequired};const{buildSchema:M}=t(1076);function Q(e){const{authorizationHeader:a,URLs:t,securitySchemeType:r,accessTokenProvider:i,additionalHeaders:o}=e,{api:s}=Object(n.useContext)(R.a),[c,d]=Object(n.useState)(null),[u,m]=Object(n.useState)(""),[p,g]=Object(n.useState)(!1),f=Object(n.useRef)(null),[h,E]=l.a.useState(!0);Object(n.useEffect)(()=>{const e=s.id;(new C.a).getGraphQLSchemaByAPIId(e).then(e=>{const a=M(e.data);d(a)})},[]);const b={},A=()=>{E(!h)},k=()=>{const e=!p;b.isExplorerOpen=e,g(e)};return null==={schema:c}?l.a.createElement(q.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(y.a,{display:"flex"},l.a.createElement(y.a,{display:"flex"},l.a.createElement(S.a,{in:!h,timeout:"auto",unmountOnExit:!0},l.a.createElement(D,{open:h,setOpen:E}))),l.a.createElement(y.a,{display:"flex",width:1},l.a.createElement(y.a,{display:"flex"},l.a.createElement(x.a,{schema:c,query:u,onEdit:m,explorerIsOpen:p,onToggleExplorer:k})),l.a.createElement(y.a,{display:"flex",height:"800px",flexGrow:1},l.a.createElement(v.a,{ref:f,fetcher:function(e){let n;n=s.advertiseInfo&&s.advertiseInfo.advertised||"apikey"===a?i():"BASIC"===r?"Basic "+i():"Bearer "+i();const l={[a]:n};return o.forEach(e=>{l[e.name]=e.value}),Object(T.a)({headers:l,url:t?t.https:null,legacyWsClient:new O.SubscriptionClient(e+"?access_token="+i(),{reconnect:!1,lazy:!0})})}(t&&t.wss),schema:c,query:u,onEditQuery:m},l.a.createElement(v.a.Toolbar,null,l.a.createElement(v.a.Button,{onClick:()=>f.current.handlePrettifyQuery(),label:"Prettify",title:"Prettify Query (Shift-Ctrl-P)"}),l.a.createElement(v.a.Button,{onClick:()=>f.current.handleToggleHistory(),label:"History",title:"Show History"}),l.a.createElement(v.a.Button,{onClick:()=>g(!p),label:"Explorer",title:"Toggle Explorer"}),l.a.createElement(v.a.Button,{onClick:A,label:"Complexity Analysis",title:"View Field`s Complexity Values"}))))))))}Q.propTypes={classes:o.a.shape({paper:o.a.string.isRequired}).isRequired,additionalHeaders:o.a.shape({array:o.a.arrayOf(o.a.element).isRequired}).isRequired};var G=t(1604),z=t(1672),U=t(1674),V=t(1675),F=t(1683),K=t(1676),W=t(261),J=t.n(W),Y=t(1314),_=t(1450),X=t(1340),Z=t(1451),$=t(1449),ee=t(1448),ae=t(1636),te=t(3938),ne=t(1072);function le(){return(le=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function re(e){let{title:a,children:t,icon:r,triggerButtonText:i,saveButtonText:o,triggerButtonProps:s,formSaveCallback:c,dialogOpenCallback:d,triggerIconProps:u}=e;const[m,p]=l.a.useState(!1),[g,f]=Object(n.useState)(!1),h=()=>{d(),p(!0)},E=()=>{p(!1)};return l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(ae.a,le({},u,{onClick:h}),r),i&&l.a.createElement(H.a,le({},s,{onClick:h}),i),l.a.createElement(X.a,{open:m,onClose:E,"aria-labelledby":"form-dialog-title"},l.a.createElement(ee.a,{id:"form-dialog-title"},a),l.a.createElement($.a,null,t),l.a.createElement(Z.a,null,l.a.createElement(H.a,{onClick:E},"Cancel"),l.a.createElement(H.a,{onClick:()=>{const e=c();"function"==typeof e?e(p):e&&(f(!0),e.then(e=>{ne.a.success(e)}).catch(e=>{ne.a.error(e)}).finally(()=>{f(!1),E()}))},color:"primary",variant:"contained",disabled:g},g?l.a.createElement(te.a,{size:16}):l.a.createElement(l.a.Fragment,null,o)))))}re.defaultProps={dialogOpenCallback:()=>{},triggerButtonProps:{variant:"contained",color:"primary"},triggerIconProps:{color:"primary",component:"span"}},re.propTypes={title:o.a.string.isRequired,children:o.a.element.isRequired,icon:o.a.element.isRequired,triggerButtonText:o.a.string.isRequired,saveButtonText:o.a.string.isRequired,triggerButtonProps:o.a.shape({}),triggerIconProps:o.a.shape({}),formSaveCallback:o.a.func.isRequired,dialogOpenCallback:o.a.func};var ie=re,oe=t(1623),se=t(3686),ce=t.n(se);const de=Object(u.a)(e=>({error:{color:e.palette.error.dark}}));function ue(e){const a=Object(Y.a)(),t=de(),{callBack:r,item:i}=e;let o="",s="";null!=i&&(o=i.name,s=i.value);const[u,m]=Object(n.useState)(o),[p,g]=Object(n.useState)(s),[f,h]=Object(n.useState)(!1),E=e=>{const{target:{name:a,value:t}}=e;switch(a){case"name":m(t);break;case"value":g(t)}},y=(e,a,t)=>{let n=!1;if(!t)return!1;switch(e){case"name":case"value":n=""===a&&e+" is Empty"}return n};return l.a.createElement(ie,{title:void 0===i?""+a.formatMessage({id:"GraphQL.Devportal.Tryout.Additional.header.add.new",defaultMessage:"Add New "}):""+a.formatMessage({id:"GraphQL.Devportal.Tryout.Additional.header.edit",defaultMessage:"Edit "}),saveButtonText:a.formatMessage({id:"GraphQL.Devportal.Tryout.Additional.header.dialog.btn.save",defaultMessage:"Save"}),triggerButtonText:i?null:a.formatMessage({id:"GraphQL.Devportal.Tryout.Additional.header.dialog.trigger.add",defaultMessage:"Add"}),icon:i?l.a.createElement(ce.a,null):null,triggerButtonProps:{color:"default",variant:"contained",size:"small"},formSaveCallback:()=>(h(!0),!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!y("name",u,e)&&!y("value",p,e))}(!0)&&(e=>{r({name:u,value:p},i),e(!1)}))},l.a.createElement(_.a,null,l.a.createElement(c.a,{variant:"caption"},l.a.createElement(d.a,{id:"GraphQL.Devportal.Tryout.Addtional.headers.help",defaultMessage:"This configuration is used to add additional Headers."}))),l.a.createElement(oe.a,{margin:"dense",name:"name",value:void 0===i?null:u,onChange:E,label:l.a.createElement("span",null,l.a.createElement(d.a,{id:"GraphQL.Devportal.Tryout.Additional.header.form.name",defaultMessage:"Header Name"}),l.a.createElement("span",{className:t.error},"*")),fullWidth:!0,multiline:!0,helperText:y("name",u,f)||a.formatMessage({id:"GraphQL.Devportal.Tryout.Additional.header.form.name.help",defaultMessage:"Provide Name"}),variant:"outlined",error:y("name",u,f)}),l.a.createElement(oe.a,{margin:"dense",name:"value",value:void 0===i?null:p,onChange:E,label:l.a.createElement("span",null,l.a.createElement(d.a,{id:"GraphQL.Devportal.Tryout.Additional.header.form.value",defaultMessage:"Header Value"}),l.a.createElement("span",{className:t.error},"*")),fullWidth:!0,multiline:!0,helperText:y("value",p,f)||a.formatMessage({id:"GraphQL.Devportal.Tryout.Additional.header.form.value.help",defaultMessage:"Provide Value"}),variant:"outlined",error:y("value",p,f)}))}ue.propTypes={row:o.a.shape({id:o.a.number.isRequired}).isRequired};var me=ue,pe=t(1442),ge=t.n(pe);function fe(e){let{item:a,callBack:t}=e;return l.a.createElement(ie,{title:"Delete Additional Header",saveButtonText:"Delete",icon:l.a.createElement(ge.a,null),formSaveCallback:()=>e=>{t(a),e(!1)}},l.a.createElement(_.a,null,a.name,l.a.createElement(d.a,{id:"Throttling.Advanced.Delete.will.be.deleted",defaultMessage:" will be deleted."})))}fe.propTypes={row:o.a.shape({}).isRequired,callBack:o.a.func.isRequired,item:o.a.shape({name:o.a.shape({}).isRequired}).isRequired};var he=fe;const Ee=Object(u.a)(e=>({root:{width:"100%",marginBottom:20},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,flex:1,alignItems:"center"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,display:"flex",alignItems:"center"},table:{marginBottom:40,background:"#efefef","& th":{background:"#ccc"}},expandContentRoot:{flexDirection:"column"},subsubTitle:{fontSize:"0.81rem"},alert:{flex:1},hr:{border:"solid 1px #efefef",width:"100%"},descriptionBox:{marginLeft:e.spacing(1)}}));function ye(e){const a=Ee(),{additionalHeaders:t,setAdditionalHeaders:n}=e,[r,i]=l.a.useState(!1),o=e=>{const a=J()(t);for(let t=0;t<a.length;t++)a[t].id===e.id&&a.splice(t,1);n(a)},s=(e,a)=>{const{name:l,value:r}=e,i=J()(t);for(let e=0;e<i.length;e++)i[e].id===a.id&&(i[e].name=l,i[e].value=r);n(i)};return l.a.createElement("div",{className:a.root},l.a.createElement(A.a,{expanded:"panel1"===r,onChange:(u="panel1",(e,a)=>{i(!!a&&u)})},l.a.createElement(k.a,{expandIcon:l.a.createElement(B.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},l.a.createElement("div",{className:a.heading,variant:"body2"},!r&&l.a.createElement(c.a,{variant:"caption"},"Add additional headers")),!r&&l.a.createElement(c.a,{className:a.secondaryHeading},"Expand to edit"),r&&l.a.createElement(c.a,{className:a.secondaryHeading},"Hide group")),l.a.createElement(j.a,{classes:{root:a.expandContentRoot}},l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{light:!0,className:a.customDivider}),l.a.createElement(y.a,{component:"div",marginLeft:1,display:"flex",alignItems:"center"},l.a.createElement(y.a,{flex:1},l.a.createElement(c.a,{variant:"caption"},l.a.createElement(d.a,{id:"GraphQL.Devportal.Tryout.Addtional.headers.help",defaultMessage:"This configuration is used to add additional Headers."}))),l.a.createElement(y.a,{component:"span",m:1},l.a.createElement(me,{callBack:e=>{const{name:a,value:l}=e,r={id:"",name:"",value:""};r.id=Math.random().toString(36).substring(2)+Date.now().toString(36),r.name=a,r.value=l;const i=J()(t);i.push(r),n(i)}}))),t&&l.a.createElement(y.a,{component:"div",marginLeft:1},l.a.createElement(z.a,{className:a.table,size:"small","aria-label":"a dense table"},l.a.createElement(F.a,null,l.a.createElement(K.a,null,l.a.createElement(V.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{id:"GraphQL.Devportal.Tryout.Additional.headers.header.name",defaultMessage:"Header Name"}))),l.a.createElement(V.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{id:"GraphQL.Devportal.Tryout.Additional.headers.header.value",defaultMessage:"Header Value"}))),l.a.createElement(V.a,null))),l.a.createElement(U.a,null,t.map(e=>l.a.createElement(K.a,{key:e.headerName},l.a.createElement(V.a,{component:"td",scope:"row"},e.name),l.a.createElement(V.a,{component:"td",scope:"row"},e.value),l.a.createElement(V.a,{width:100,className:a.actionColumn},l.a.createElement(y.a,{display:"flex"},l.a.createElement(me,{item:e,callBack:s}),l.a.createElement(he,{item:e,callBack:o}))))))))),l.a.createElement(I.a,null))));var u}ye.propTypes={dataRow:o.a.shape({id:o.a.number.isRequired}).isRequired,additionalHeaders:o.a.shape({array:o.a.arrayOf(o.a.element).isRequired}).isRequired};var ve=ye;const be=Object(u.a)(e=>({buttonIcon:{marginRight:10},paper:{margin:e.spacing(1),padding:e.spacing(1)},grid:{marginTop:e.spacing(4),marginBottom:e.spacing(4),paddingRight:e.spacing(2),justifyContent:"center"},userNotificationPaper:{padding:e.spacing(2)},titleSub:{marginLeft:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}));function xe(){const e=be(),{api:a}=Object(n.useContext)(R.a),t=a.endpointURLs,[i,o]=Object(n.useState)(t.length>0?t[0].URLs:null),[u,g]=Object(n.useState)("OAUTH"),[h,v]=Object(n.useState)(!1),[b,x]=Object(n.useState)(""),[S,O]=Object(n.useState)(""),[T,A]=Object(n.useState)(),[k,j]=Object(n.useState)(),[w,P]=Object(n.useState)([]),[N,B]=Object(n.useState)(),[I,H]=Object(n.useState)(),[L,D]=Object(n.useState)("PRODUCTION"),[M,z]=Object(n.useState)(""),[U,V]=Object(n.useState)(""),[F,K]=Object(n.useState)("Authorization"),[W,J]=Object(n.useState)(""),[Y,_]=Object(n.useState)("PRODUCTION"),[X,Z]=Object(n.useState)([]),[$,ee]=Object(n.useState)([]),ae=m.a.getUser(),te=a.advertiseInfo&&a.advertiseInfo.advertised;function ne(){let e;X.get(L)&&({accessToken:e}=X.get(L).token),"PRODUCTION"===L?B(e):H(e)}function le(e){const a={http:null,https:null,ws:null,wss:null},[t]=e.split("://");return"http"!==t&&"https"!==t&&"ws"!==t&&"wss"!==t||(a[t]=e),a}if(Object(n.useEffect)(()=>{const e=a.id;(new C.a).getAPIById(e).then(e=>{const a=e.obj;if(a.endpointURLs){const e=a.endpointURLs.map(e=>({name:e.environmentName,displayName:e.environmentDisplayName}));j(e)}if(a.scopes){const e=a.scopes.map(e=>e.name);P(e)}}).catch(e=>{const{status:a}=e;404===a&&v(!0)})},[]),null==a)return l.a.createElement(q.a,null);if(h)return"API Not found !";let re=!1,ie=a.authorizationHeader?a.authorizationHeader:"Authorization";return a&&a.securityScheme&&(re=a.securityScheme.includes("api_key"),re&&"API-KEY"===u&&(ie="apikey")),te&&(ie=F),l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{variant:"h4",className:e.titleSub},l.a.createElement(d.a,{id:"Apis.Details.GraphQLConsole.GraphQLConsole.title",defaultMessage:"Try Out"})),l.a.createElement(r.a,{className:e.paper},l.a.createElement(s.a,{container:!0,className:e.grid},!ae&&!te&&l.a.createElement(s.a,{item:!0,md:6},l.a.createElement(r.a,{className:e.userNotificationPaper},l.a.createElement(c.a,{variant:"h5",component:"h3"},l.a.createElement(p.a,null,"warning")," ",l.a.createElement(d.a,{id:"notice",defaultMessage:"Notice"})),l.a.createElement(c.a,{component:"p"},l.a.createElement(d.a,{id:"api.console.require.access.token",defaultMessage:"You need an access token to try the API. Please log in and subscribe to the API to generate an access token. If you already have an access token, please provide it below."}))))),l.a.createElement(G.a,{setSecurityScheme:g,securitySchemeType:u,setSelectedEnvironment:A,selectedEnvironment:T,productionAccessToken:N,setProductionAccessToken:B,sandboxAccessToken:I,setSandboxAccessToken:H,environments:k,scopes:w,setUsername:x,setPassword:O,username:b,password:S,setSelectedKeyType:function(e,a){a&&!te?D(e,ne):D(e)},convertToPostman:function(e,a){E.a.convert({type:"string",data:e},{},(e,t)=>{if(e)console.log(e);else{const e=a.https,n=t;n.output[0].data.variable[0].value=e;const l=n.output[0].data;f()(JSON.stringify(l),"postman collection"),console.log("Conversion success")}})},selectedKeyType:L,setKeys:Z,setURLs:o,setProductionApiKey:V,setSandboxApiKey:z,productionApiKey:U,sandboxApiKey:M,environmentObject:t,setAdvAuthHeader:K,setAdvAuthHeaderValue:J,advAuthHeader:F,advAuthHeaderValue:W,setSelectedEndpoint:_,selectedEndpoint:Y,api:a,URLs:i}),l.a.createElement(y.a,{display:"flex",justifyContent:"center"},l.a.createElement(y.a,{width:"50%",display:"flex",flexDirection:"column"},l.a.createElement(y.a,{ml:-5,display:"flex"},l.a.createElement(c.a,{variant:"h5",component:"h3",color:"textPrimary"},l.a.createElement(d.a,{id:"api.console.gql.additional.headers",defaultMessage:"Additional Headers"}))))),l.a.createElement(s.a,{container:!0,className:e.grid},l.a.createElement(s.a,{item:!0,md:6},l.a.createElement(ve,{setAdditionalHeaders:ee,additionalHeaders:$})))),l.a.createElement(r.a,{className:e.paper},l.a.createElement(Q,{authorizationHeader:ie,URLs:function(){if(a.advertiseInfo&&a.advertiseInfo.advertised){if("PRODUCTION"===Y)return le(a.advertiseInfo.apiExternalProductionEndpoint);if("SANDBOX"===Y)return le(a.advertiseInfo.apiExternalSandboxEndpoint)}return i}(),securitySchemeType:u,accessTokenProvider:function(){if(te)return W;if("BASIC"===u){return btoa(b+":"+S)}return"API-KEY"===u?"PRODUCTION"===L?U:M:"PRODUCTION"===L?N:I},additionalHeaders:$})))}xe.propTypes={classes:o.a.shape({paper:o.a.string.isRequired,titleSub:o.a.string.isRequired,root:o.a.string.isRequired}).isRequired}}}]);
//# sourceMappingURL=GraphQLConsole.838099c23d9ee2aae3de.bundle.js.map